name: Flutter CI
on:
  push:
    branches: [ "Master" ]
  pull_request:
    branches: [ "Master" ]
jobs:
  build_apk:
    name: Upload Android Beta to Firebase App Distribution
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v1
        - name: set up JDK 1.8
          uses: actions/setup-java@v1
          with:
            java-version: 1.8
        - name: Download Artifact
          uses: actions/download-artifact@master
          with:
            name: release-apk
        - name: Upload APK
          uses: wzieba/Firebase-Distribution-Github-Action@v1.2.1
          with:
            appId: ${{secrets.FIREBASE_ANDROID_APPID}}
            token: ${{secrets.FIREBASE_TOKEN}}
            group: testers
            file: app-release.apk


